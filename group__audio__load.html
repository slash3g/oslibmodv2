<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Loading</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__audio__load.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Loading<div class="ingroups"><a class="el" href="group__audio.html">Audio</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad9922fbf4042960448a73e29eb25b0aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_o_s_l___s_o_u_n_d.html">OSL_SOUND</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__audio__load.html#gad9922fbf4042960448a73e29eb25b0aa">oslLoadSoundFile</a> (const char *filename, int stream)</td></tr>
<tr class="separator:gad9922fbf4042960448a73e29eb25b0aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga301e65e2fd6d1651c50b82686fd61b0d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_o_s_l___s_o_u_n_d.html">OSL_SOUND</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__audio__load.html#ga301e65e2fd6d1651c50b82686fd61b0d">oslLoadSoundFileWAV</a> (const char *filename, int stream)</td></tr>
<tr class="separator:ga301e65e2fd6d1651c50b82686fd61b0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf33aa94c08eb5d1600d7240b88ff2d76"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_o_s_l___s_o_u_n_d.html">OSL_SOUND</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__audio__load.html#gaf33aa94c08eb5d1600d7240b88ff2d76">oslLoadSoundFileBGM</a> (const char *filename, int stream)</td></tr>
<tr class="separator:gaf33aa94c08eb5d1600d7240b88ff2d76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga546f88dd364b5885cacad49381a71a37"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_o_s_l___s_o_u_n_d.html">OSL_SOUND</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__audio__load.html#ga546f88dd364b5885cacad49381a71a37">oslLoadSoundFileMOD</a> (const char *filename, int stream)</td></tr>
<tr class="separator:ga546f88dd364b5885cacad49381a71a37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac4c31adb6d36deb95d3fdc6680a469a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_o_s_l___s_o_u_n_d.html">OSL_SOUND</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__audio__load.html#gac4c31adb6d36deb95d3fdc6680a469a0">oslLoadSoundFileMP3</a> (const char *filename, int stream)</td></tr>
<tr class="separator:gac4c31adb6d36deb95d3fdc6680a469a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga87054199bd4a7599d5d2c2e3fd908843"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_o_s_l___s_o_u_n_d.html">OSL_SOUND</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__audio__load.html#ga87054199bd4a7599d5d2c2e3fd908843">oslLoadSoundFileAT3</a> (const char *filename, int stream)</td></tr>
<tr class="separator:ga87054199bd4a7599d5d2c2e3fd908843"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c48c65e8bb820e34fa9ddc1fb5402d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__audio__load.html#ga2c48c65e8bb820e34fa9ddc1fb5402d4">oslSetModSampleRate</a> (int freq, int stereo, int shift)</td></tr>
<tr class="separator:ga2c48c65e8bb820e34fa9ddc1fb5402d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Loading sounds. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gad9922fbf4042960448a73e29eb25b0aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_o_s_l___s_o_u_n_d.html">OSL_SOUND</a>* oslLoadSoundFile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads a sound type and determines its format with its extension. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>Name of the file to be loaded. If the song must be streamed, always use files that are stored on the Memory Stick, alternate file sources have not been tested and may not always work properly. </td></tr>
    <tr><td class="paramname">stream</td><td>Either OSL_FMT_STREAM (sound is streamed) or OSL_FMT_NONE (sound is entierly loaded in memory). Streamed sounds use less memory but require more CPU power.</td></tr>
  </table>
  </dd>
</dl>
<p>This remark applies for every format: the biggest the sample rate, the more CPU time it will need to be played back. </p>

</div>
</div>
<a class="anchor" id="ga301e65e2fd6d1651c50b82686fd61b0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_o_s_l___s_o_u_n_d.html">OSL_SOUND</a>* oslLoadSoundFileWAV </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads a WAV sound file. See oslLoadSoundFile for more information. </p>

</div>
</div>
<a class="anchor" id="gaf33aa94c08eb5d1600d7240b88ff2d76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_o_s_l___s_o_u_n_d.html">OSL_SOUND</a>* oslLoadSoundFileBGM </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads a BGM sound file. See oslLoadSoundFile for more information. BGM is an audio format specific to OSLib. It stores "true" sound, taking less room than WAV, but is only mono.</p>
<p>You can find an encoder in the distribution.</p>
<p>Some other formats are available in the OSTools extension library, take a look to it. </p>

</div>
</div>
<a class="anchor" id="ga546f88dd364b5885cacad49381a71a37"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_o_s_l___s_o_u_n_d.html">OSL_SOUND</a>* oslLoadSoundFileMOD </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads a MOD sound file. Requires to link with the mod library (-lmikmod in the library list). Currently supports the following formats: .mod, .it, .s3m and .xm.</p>
<p>You can only play one MOD song at a time! I didn't try to do it on 2 voices but I imagine it would play at a double speed and louder. Do NOT think this is normal and most important do not use it in your game! This behavior is very likely to change in a future version of OSLib.</p>
<p><b>Note:</b> Streaming is not supported for MOD playback. Files will always be loaded from RAM, so don't give OSL_FMT_STREAM as an argument for <em>stream</em>, else you may experience problems in a future OSLib version! Set it to OSL_FMT_NONE for the moment.</p>
<p><b>Warning:</b> Note that MOD playback is excessively heavy as much in terms of required memory (increases the size of your EBOOT) as speed (watch out the CPU usage when or without MOD playback: with some songs it may increase up to 50%%!). To reduce this problem, you can define the sample rate (<a class="el" href="group__audio__load.html#ga2c48c65e8bb820e34fa9ddc1fb5402d4">oslSetModSampleRate</a>) which can help a bit. But it's still not recommended if you need a lot of CPU power for your game. However if your game does not require a high CPU load but only a high GPU (graphic) load, this is not a problem, as sound decoding will mostly be done during periods where the CPU is waiting on the GPU to finish its drawing, and thus not affecting performance very much. </p>

</div>
</div>
<a class="anchor" id="gac4c31adb6d36deb95d3fdc6680a469a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_o_s_l___s_o_u_n_d.html">OSL_SOUND</a>* oslLoadSoundFileMP3 </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads an MP3 file. It is necessary to call <a class="el" href="group__audio__general.html#ga3eb1e527c113b3a908ed86ab98afcadf">oslInitAudioME</a> in kernel mode before, else your program will crash! </p>

</div>
</div>
<a class="anchor" id="ga87054199bd4a7599d5d2c2e3fd908843"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_o_s_l___s_o_u_n_d.html">OSL_SOUND</a>* oslLoadSoundFileAT3 </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads an AT3 file. It is necessary to call <a class="el" href="group__audio__general.html#ga3eb1e527c113b3a908ed86ab98afcadf">oslInitAudioME</a> in kernel mode before, else your program will crash! </p>

</div>
</div>
<a class="anchor" id="ga2c48c65e8bb820e34fa9ddc1fb5402d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oslSetModSampleRate </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>freq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stereo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shift</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the sample rate for the MOD player (it does not affect other formats!). Decreasing it reduces the audio quality but can reduce the CPU load required to decode MOD audio. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">freq</td><td>Sample rate (in samples per second). The higher it is, the more CPU load is needed. Allowed values are 44100 (good quality), 22050 (medium quality), 11025 (low quality). The default is 44100, but if you need to use less CPU power, 22050 is a good choice. 11025 uses less CPU but it's not worth the big loss of quality IMHO, but it depends from the track in question. </td></tr>
    <tr><td class="paramname">stereo</td><td>The only allowed value is 1 currently. Do NOT put any other value! </td></tr>
    <tr><td class="paramname">shift</td><td>The shift sets the ratio for playback. Values are a power of two. 0 means 1x, 1 means 2x, 2 means 4x, etc. This parameter is necessary if you use another frequency than 44100, because the audio stream will always be played at 44100, due to the internal PSP audio capabilities. If you play a 22050 stream at 44100 Hz it will play twice as fast! To reduce this problem, set a shift of 1 (meaning 2x). This parameter is here so that you can make an accelerated music effect. For example if you set <em>shift</em> to 0 (44100 Hz) and <em>freq</em> to 22050, the sound will play twice as fast. Note that in this case (and only in this case!) the <em>freq</em> parameter can have another value than 11025, 22050 or 44100.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Note:</b> it is unrecommended to set any other sample rate than 44100 (with a shift of 0), 22050 (with a shift of 1), 11025 (with a shift of 2) as it's tricky and not heavily tested. Also, it is currently not sure that this behavior will be kept in the future. </p><div class="fragment"><div class="line"><span class="comment">//The 3 &quot;normal&quot; possibilities, you can copy them as is if you need them.</span></div>
<div class="line"><a class="code" href="group__audio__load.html#ga2c48c65e8bb820e34fa9ddc1fb5402d4">oslSetModSampleRate</a>(11025, 1, 2);                       <span class="comment">//Very low CPU, bad sound</span></div>
<div class="line"><a class="code" href="group__audio__load.html#ga2c48c65e8bb820e34fa9ddc1fb5402d4">oslSetModSampleRate</a>(22050, 1, 1);                       <span class="comment">//Low CPU, medium sound</span></div>
<div class="line"><a class="code" href="group__audio__load.html#ga2c48c65e8bb820e34fa9ddc1fb5402d4">oslSetModSampleRate</a>(44100, 1, 0);                       <span class="comment">//Normal CPU usage, good sound</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//Extended possibilities, not recommended as said above.</span></div>
<div class="line"><a class="code" href="group__audio__load.html#ga2c48c65e8bb820e34fa9ddc1fb5402d4">oslSetModSampleRate</a>(22050, 1, 0);                       <span class="comment">//Twice the normal speed</span></div>
<div class="line"><a class="code" href="group__audio__load.html#ga2c48c65e8bb820e34fa9ddc1fb5402d4">oslSetModSampleRate</a>(33075, 1, 0);                       <span class="comment">//3/2 speed</span></div>
<div class="line"><a class="code" href="group__audio__load.html#ga2c48c65e8bb820e34fa9ddc1fb5402d4">oslSetModSampleRate</a>(11025, 1, 1);                       <span class="comment">//2x speed, lower quality</span></div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
